{"ast":null,"code":"import _classCallCheck from \"/home/marcel/code/Code/motivatieBrief/spa/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/marcel/code/Code/motivatieBrief/spa/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { environment } from 'src/environments/environment';\nimport { AlertifyService } from '../_services/alertify.service';\nimport { AuthService } from '../_services/auth.service';\nimport { BriefService } from '../_services/brief.service';\nimport { PdfService } from '../_services/pdf.service';\n\nvar Brief_detailsComponent = /*#__PURE__*/function () {\n  function Brief_detailsComponent(alertify, auth, pdf, route, router, brief) {\n    _classCallCheck(this, Brief_detailsComponent);\n\n    this.alertify = alertify;\n    this.auth = auth;\n    this.pdf = pdf;\n    this.route = route;\n    this.router = router;\n    this.brief = brief;\n    this.br = {\n      id: 0,\n      photoUrl: '',\n      line_1: '',\n      line_2: '',\n      line_3: '',\n      line_4: '',\n      line_5: '',\n      line_6: '',\n      line_7: '',\n      line_8: '',\n      line_9: '',\n      line_10: '',\n      line_11: '',\n      line_12: '',\n      line_13: '',\n      line_14: '',\n      line_15: '',\n      line_16: '',\n      line_17: '',\n      line_18: '',\n      line_19: '',\n      line_20: '',\n      line_21: '',\n      line_22: '',\n      line_23: '',\n      line_24: '',\n      line_25: '',\n      line_26: '',\n      line_27: '',\n      line_28: '',\n      line_29: '',\n      line_30: '',\n      line_31: '',\n      line_32: '',\n      line_33: '',\n      line_34: '',\n      line_35: '',\n      line_36: '',\n      line_37: '',\n      line_38: '',\n      line_39: '',\n      line_40: '',\n      line_41: '',\n      line_42: '',\n      line_43: '',\n      line_44: '',\n      line_45: '',\n      line_46: '',\n      line_47: '',\n      line_48: '',\n      line_49: '',\n      line_50: ''\n    };\n    this.showPhoto = 0;\n    this.baseUrl = environment.apiUrl;\n    this.mkrole = 0;\n  }\n\n  _createClass(Brief_detailsComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      // check if the makelaar is loggedIn()\n      this.auth.currentRole.subscribe(function (next) {\n        if (next === 'makelaar') {\n          _this.mkrole = 1;\n        }\n      });\n    }\n  }, {\n    key: \"showIfRoleIsMakelaar\",\n    value: function showIfRoleIsMakelaar() {\n      if (this.mkrole === 1) {\n        return true;\n      }\n    }\n  }, {\n    key: \"showPhotoEditor\",\n    value: function showPhotoEditor() {\n      if (this.showPhoto === 1) {\n        return true;\n      }\n    }\n  }, {\n    key: \"updatePhoto\",\n    value: function updatePhoto(photoUrl) {\n      this.br.photoUrl = photoUrl;\n      this.showPhoto = 0;\n    }\n  }, {\n    key: \"uploadPicture\",\n    value: function uploadPicture() {\n      this.showPhoto = 1;\n      this.alertify.message(\"uploading picture comes here ....\");\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      this.router.navigate(['/makelaar']);\n    }\n  }, {\n    key: \"removeKoper\",\n    value: function removeKoper() {\n      this.alertify.message(\"remove koper now\");\n    }\n  }, {\n    key: \"savePrint\",\n    value: function savePrint() {\n      var _this2 = this;\n\n      this.brief.saveBrief(this.br).subscribe(function (next) {}, function (error) {\n        return _this2.alertify.error(error);\n      }, function () {\n        if (_this2.br.line_1 !== null) {\n          window.location.href = _this2.baseUrl + 'getPDF/' + _this2.br.id;\n\n          _this2.router.navigate(['/']);\n        } else {\n          _this2.alertify.error(\"Please fill at least something ...\");\n        }\n      });\n    }\n  }]);\n\n  return Brief_detailsComponent;\n}();\n\n__decorate([Input(), __metadata(\"design:type\", Object)], Brief_detailsComponent.prototype, \"br\", void 0);\n\nBrief_detailsComponent = __decorate([Component({\n  selector: 'app-brief_details',\n  templateUrl: './brief_details.component.html',\n  styleUrls: ['./brief_details.component.css']\n}), __metadata(\"design:paramtypes\", [AlertifyService, AuthService, PdfService, ActivatedRoute, Router, BriefService])], Brief_detailsComponent);\nexport { Brief_detailsComponent };","map":null,"metadata":{},"sourceType":"module"}